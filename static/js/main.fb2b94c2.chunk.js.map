{"version":3,"sources":["util/movieService.js","App.jsx","reportWebVitals.js","index.js"],"names":["getMoviesByTitle","query","a","encoded","encodeURIComponent","Promise","resolve","reject","fetch","process","method","then","res","json","catch","err","App","useState","search","setSearch","results","setResults","nominations","setNominations","processing","setProcessing","timer","setTimer","useEffect","handleLoad","handleQuery","length","clearTimeout","setTimeout","Response","Search","handleSave","noms","window","localStorage","JSON","stringify","parse","className","size","color","type","placeholder","value","onChange","e","target","divClass","xmlns","fill","viewBox","cx","cy","r","stroke","strokeWidth","d","renderLoader","onClick","list","Array","isArray","arr","movie","movieInNoms","imdbID","push","Object","keys","id","copy","handleNomination","Title","Year","renderResults","obj","handleDelete","renderNominations","renderBanner","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","require","config","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fb2b94c2.chunk.js","sourcesContent":["const API_KEY = process.env.REACT_APP_API_KEY;\nconst URL = 'https://www.omdbapi.com/';\n\nexport const getMoviesByTitle = async (query) => {\n  const encoded = encodeURIComponent(query);\n\n  return new Promise((resolve, reject) => {\n    fetch(`${URL}?apikey=${API_KEY}&s=${encoded}&type=movie`, {\n      method: 'GET',\n    }).then(res => {\n      resolve(res.json());\n    }).catch(err => {\n      reject(err);\n    })\n  })\n}","import React, { useState, useEffect } from 'react';\nimport { Search, PlusCircle, XCircle, Check } from 'react-feather';\nimport { getMoviesByTitle } from './util/movieService';\n\nfunction App() {\n\tconst [search, setSearch] = useState('');\n\tconst [results, setResults] = useState([]);\n\tconst [nominations, setNominations] = useState({});\n\tconst [processing, setProcessing] = useState(false);\n\tconst [timer, setTimer] = useState(null);\n\n\tuseEffect(() => {\n\t\t// effect\n\t\thandleLoad();\n\t\treturn () => {\n\t\t\t// cleanup\n\t\t};\n\t}, []);\n\n\tconst handleSearch = e => {\n\t\tsetSearch(e.target.value);\n\t\thandleQuery(e.target.value);\n\t};\n\n\tconst handleQuery = async (query = search) => {\n\t\tif (search.length < 3) {\n\t\t\treturn;\n\t\t}\n\t\tsetProcessing(true);\n\t\tconst res = await getMoviesByTitle(query);\n\t\tclearTimeout(timer);\n\t\tsetTimer(\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetProcessing(false);\n\t\t\t}, 2000)\n\t\t);\n\t\tif (res.Response === 'True') {\n\t\t\tsetResults(res.Search);\n\t\t}\n\t};\n\n\tconst handleNomination = movie => {\n\t\t// check if max\n\t\tif (Object.keys(nominations).length >= 5) {\n\t\t\treturn;\n\t\t}\n\t\t// check if movie is already added\n\t\tfor (let id in nominations) {\n\t\t\tif (id === movie.imdbID) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t// else, add the movie\n\t\tlet copy = { ...nominations };\n\t\tcopy[movie.imdbID] = movie;\n\t\tsetNominations(copy);\n\t\thandleSave(copy);\n\t};\n\n\tconst handleDelete = id => {\n\t\tlet copy = { ...nominations };\n\t\tdelete copy[id];\n\t\tsetNominations(copy);\n\t\thandleSave(copy);\n\t};\n\n\tconst handleClearResults = () => {\n\t\tsetResults([]);\n\t\tsetSearch('');\n\t};\n\n\tconst handleClearNominations = () => {\n\t\tsetNominations([]);\n\t\thandleSave([]);\n\t};\n\n\tconst handleSave = (noms = nominations) => {\n\t\twindow.localStorage['nominations'] = JSON.stringify(noms);\n\t};\n\n\tconst handleLoad = () => {\n\t\tif (window.localStorage['nominations']) {\n\t\t\tlet noms = JSON.parse(window.localStorage['nominations']);\n\t\t\tsetNominations(noms);\n\t\t}\n\t};\n\n\tconst renderResults = list => {\n\t\tif (Array.isArray(list) && list.length && search.length >= 3) {\n\t\t\tlet arr = [];\n\t\t\tfor (let movie of list) {\n\t\t\t\tconst movieInNoms = !!nominations[movie.imdbID];\n\t\t\t\tlet divClass = 'flex flex-row items-center px-2 py-1 rounded-lg';\n\t\t\t\tdivClass += movieInNoms\n\t\t\t\t\t? ' cursor-default'\n\t\t\t\t\t: ' cursor-pointer hover:bg-gray-100';\n\t\t\t\tarr.push(\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={divClass}\n\t\t\t\t\t\tkey={movie.imdbID}\n\t\t\t\t\t\tonClick={() => handleNomination(movie)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{movieInNoms ? (\n\t\t\t\t\t\t\t<Check\n\t\t\t\t\t\t\t\tclassName=\"mr-2 flex-shrink-0\"\n\t\t\t\t\t\t\t\tsize={18}\n\t\t\t\t\t\t\t\tcolor=\"currentColor\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<PlusCircle\n\t\t\t\t\t\t\t\tclassName=\"mr-2 flex-shrink-0\"\n\t\t\t\t\t\t\t\tsize={18}\n\t\t\t\t\t\t\t\tcolor=\"currentColor\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<span className=\"text-md\" key={movie.imdbID}>\n\t\t\t\t\t\t\t{`${movie.Title} (${movie.Year})`}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<div className=\"flex flex-col p-6 shadow-lg rounded-lg bg-white\">\n\t\t\t\t\t<div className=\"flex flex-row pb-2 items-center justify-between\">\n\t\t\t\t\t\t<span className=\"text-xl font-semibold font-serif\">{`Results for \"${search}\"`}</span>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"transition px-5 py-2 font-serif font-bold text-sm text-sushi-500 bg-white rounded-full hover:bg-gray-100  active:bg-gray-300 focus:outline-none\"\n\t\t\t\t\t\t\tonClick={() => handleClearResults()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tCLEAR\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{arr}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<div className=\"flex flex-col p-6 shadow-lg rounded-lg bg-white\">\n\t\t\t\t<span className=\"text-xl font-semibold font-serif\">\n\t\t\t\t\tNo results found.\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst renderNominations = obj => {\n\t\tif (obj && Object.keys(obj).length > 0) {\n\t\t\tlet arr = [];\n\t\t\tfor (let id in obj) {\n\t\t\t\tlet movie = nominations[id];\n\t\t\t\tarr.push(\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"flex flex-row items-center px-2 py-1 rounded-lg cursor-pointer hover:bg-gray-100\"\n\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\tonClick={() => handleDelete(id)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<XCircle\n\t\t\t\t\t\t\tclassName=\"mr-2 flex-shrink-0\"\n\t\t\t\t\t\t\tsize={18}\n\t\t\t\t\t\t\tcolor=\"currentColor\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<span className=\"text-md\">{`${movie.Title} (${movie.Year})`}</span>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn <div className=\"flex flex-col\">{arr}</div>;\n\t\t}\n\t\treturn <span className=\"text-md\">You don't have any nominations yet!</span>;\n\t};\n\n\tconst renderBanner = () => {\n\t\tlet divClass =\n\t\t\t'transition transform flex w-full bg-melon-500 text-white font-serif font-bold rounded-lg shadow-lg p-6 mt-6';\n\n\t\tif (nominations && Object.keys(nominations).length < 5) {\n\t\t\tdivClass += ' h-0 scale-0';\n\t\t}\n\n\t\treturn <div className={divClass}>All nominations selected!</div>;\n\t};\n\n\tconst renderLoader = () => {\n\t\tlet divClass = 'transition animate-spin mr-3 w-6 h-6 text-sushi-500';\n\n\t\tif (!processing) {\n\t\t\tdivClass += ' opacity-0';\n\t\t}\n\n\t\treturn (\n\t\t\t<svg\n\t\t\t\tclassName={divClass}\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\tfill=\"none\"\n\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t>\n\t\t\t\t<circle\n\t\t\t\t\tclassName=\"opacity-25\"\n\t\t\t\t\tcx=\"12\"\n\t\t\t\t\tcy=\"12\"\n\t\t\t\t\tr=\"10\"\n\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\tstrokeWidth=\"4\"\n\t\t\t\t></circle>\n\t\t\t\t<path\n\t\t\t\t\tclassName=\"opacity-75\"\n\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\td=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n\t\t\t\t></path>\n\t\t\t</svg>\n\t\t);\n\t};\n\n\treturn (\n\t\t<div className=\"relative flex flex-col h-full items-center bg-white text-berry-500\">\n\t\t\t<div className=\"p-4 w-full mt-12 md:max-w-5xl\">\n\t\t\t\t<span className=\"flex text-4xl font-bold font-serif pb-6\">\n\t\t\t\t\tThe Shoppies 👑\n\t\t\t\t</span>\n\t\t\t\t<span className=\"flex text-xl pb-2\">\n\t\t\t\t\tSelect your top 5 favourite films to nominate for the upcoming\n\t\t\t\t\tShoppies!\n\t\t\t\t</span>\n\t\t\t\t<span className=\"flex text-sm font-serif pb-6\">\n\t\t\t\t\tNominations are saved automatically so you won't lose your choices\n\t\t\t\t\twhen you leave the site.\n\t\t\t\t</span>\n\t\t\t\t<div className=\"flex flex-col p-6 shadow-lg rounded-lg bg-white mb-6\">\n\t\t\t\t\t<span className=\"text-xl font-semibold font-serif mb-3\">\n\t\t\t\t\t\tMovie Title\n\t\t\t\t\t</span>\n\t\t\t\t\t<div className=\"transition flex py-3 px-4 mb-4 rounded-lg border-2 border-gray-200 bg-white text-gray-400 focus-within:border-sushi-500\">\n\t\t\t\t\t\t<Search className=\"mr-2\" size={24} color=\"currentColor\" />\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tplaceholder=\"Shawshank Redemption\"\n\t\t\t\t\t\t\tclassName=\"flex w-full text-md bg-transparent placeholder-gray-500 text-berry-500 focus:outline-none\"\n\t\t\t\t\t\t\tvalue={search}\n\t\t\t\t\t\t\tonChange={handleSearch}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"flex items-center justify-end\">\n\t\t\t\t\t\t{renderLoader()}\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"transition px-5 py-2 font-serif font-bold text-sm text-white bg-sushi-500 rounded-full hover:bg-sushi-600  active:bg-sushi-400 focus:outline-none\"\n\t\t\t\t\t\t\tonClick={() => handleQuery()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSEARCH\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"flex flex-col md:grid md:grid-cols-2 md:gap-6\">\n\t\t\t\t\t{renderResults(results)}\n\t\t\t\t\t<div className=\"flex flex-col p-6 shadow-lg rounded-lg bg-white mt-6 md:mt-0\">\n\t\t\t\t\t\t<div className=\"flex flex-row pb-2 items-center justify-between\">\n\t\t\t\t\t\t\t<span className=\"text-xl font-semibold font-serif\">\n\t\t\t\t\t\t\t\tNominations\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<div className=\"flex flex-row\">\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName=\"transition px-5 py-2 font-serif font-bold text-sm text-sushi-500 bg-white rounded-full hover:bg-gray-100  active:bg-gray-300 focus:outline-none\"\n\t\t\t\t\t\t\t\t\tonClick={() => handleClearNominations()}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tCLEAR\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName=\"transition px-5 py-2 font-serif font-bold text-sm text-sushi-500 bg-white rounded-full hover:bg-gray-100  active:bg-gray-300 focus:outline-none\"\n\t\t\t\t\t\t\t\t\tonClick={() => handleSave()}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tSAVE\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{renderNominations(nominations)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{renderBanner()}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nrequire('dotenv').config()\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}